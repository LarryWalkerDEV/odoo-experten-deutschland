@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Mobile-first typography */
  html {
    @apply scroll-smooth;
    font-size: 16px;
    line-height: 1.5;
    -webkit-text-size-adjust: 100%;
  }
  
  body {
    @apply antialiased;
    font-family: system-ui, -apple-system, sans-serif;
    overflow-x: hidden;
  }
  
  /* Prevent horizontal scroll */
  * {
    max-width: 100%;
    box-sizing: border-box;
  }
  
  /* Improve text rendering */
  h1, h2, h3, h4, h5, h6 {
    text-rendering: optimizeLegibility;
    word-wrap: break-word;
    hyphens: auto;
  }
  
  /* Touch optimization */
  button, a, [role="button"] {
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
  }
  
  /* Focus styles for accessibility */
  :focus-visible {
    @apply outline-2 outline-primary outline-offset-2;
  }
}

@layer components {
  /* Mobile-first typography components */
  .mobile-headline {
    @apply text-xl sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl 2xl:text-6xl;
    @apply font-bold leading-tight;
    @apply mb-2 sm:mb-4 md:mb-6 lg:mb-8;
    @apply max-h-20vh break-words hyphens-auto;
  }
  
  .mobile-subtitle {
    @apply text-base sm:text-lg md:text-xl lg:text-2xl;
    @apply font-semibold leading-tight;
    @apply mb-3 sm:mb-4 md:mb-6;
    @apply break-words;
  }
  
  .mobile-text {
    @apply text-sm sm:text-base md:text-lg;
    @apply leading-relaxed;
    @apply mb-3 sm:mb-4 md:mb-6;
    @apply break-words;
  }
  
  .mobile-container {
    @apply px-2 sm:px-4 md:px-6 lg:px-8 xl:px-12;
    @apply mx-auto;
    @apply my-2 sm:my-4 md:my-8 lg:my-12;
    @apply max-w-full;
  }
  
  .responsive-grid {
    @apply grid grid-cols-1 md:grid-cols-2;
    @apply gap-4 sm:gap-6 md:gap-8 lg:gap-12;
  }
  
  .visual-container {
    @apply w-full overflow-hidden relative contain-strict;
    @apply h-35 sm:h-44 md:h-68 lg:h-84 xl:h-100;
    @apply min-h-[160px];
  }
  
  .hero-section {
    @apply min-h-screen min-h-svh flex flex-col justify-center;
    @apply px-4 sm:px-6 md:px-8 lg:px-16;
    @apply py-4 sm:py-8 md:py-12 lg:py-16;
  }
  
  .touch-target {
    @apply min-h-[44px] min-w-[44px];
    @apply p-3 sm:p-4;
    @apply touch-manipulation;
  }
  
  /* Mobile-optimized buttons */
  .btn-primary {
    @apply touch-target;
    @apply px-4 sm:px-6 py-2 sm:py-3;
    @apply bg-gradient-to-r from-violet-600 to-purple-600 text-white;
    @apply rounded-lg font-medium;
    @apply hover:shadow-lg transform hover:scale-105;
    @apply active:scale-95;
    @apply transition-all duration-200;
  }
  
  .btn-secondary {
    @apply touch-target;
    @apply px-4 sm:px-6 py-2 sm:py-3;
    @apply bg-white dark:bg-gray-800 text-gray-900 dark:text-white;
    @apply rounded-lg font-medium;
    @apply hover:shadow-lg transition-all duration-200;
    @apply border border-gray-200 dark:border-gray-700;
  }
  
  /* Mobile-optimized cards */
  .mobile-card {
    @apply bg-white rounded-lg shadow-md;
    @apply p-4 sm:p-6 md:p-8;
    @apply transition-shadow hover:shadow-lg;
  }
  
  .glass {
    @apply bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border border-white/20;
  }
  
  .gradient-text {
    @apply bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent;
  }
}

@layer utilities {
  /* Performance optimizations */
  .gpu-accelerate {
    @apply transform-gpu will-change-transform backface-hidden;
  }
  
  /* Responsive text utilities */
  .text-clamp-xs { font-size: clamp(0.75rem, 2vw, 0.875rem); }
  .text-clamp-sm { font-size: clamp(0.875rem, 2.5vw, 1.125rem); }
  .text-clamp-base { font-size: clamp(1rem, 3vw, 1.25rem); }
  .text-clamp-lg { font-size: clamp(1.125rem, 3.5vw, 1.5rem); }
  .text-clamp-xl { font-size: clamp(1.25rem, 4vw, 2rem); }
  .text-clamp-2xl { font-size: clamp(1.5rem, 5vw, 3rem); }
  .text-clamp-3xl { font-size: clamp(2rem, 6vw, 4rem); }
  
  /* Mobile spacing utilities */
  .space-mobile { @apply space-y-2 sm:space-y-4 md:space-y-6; }
  .gap-mobile { @apply gap-2 sm:gap-4 md:gap-6; }
}

/* Custom animations */
@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fade-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Mobile landscape optimization */
@media (max-width: 896px) and (orientation: landscape) {
  .hero-section {
    @apply min-h-svh py-2 px-4;
  }
  
  .mobile-headline {
    @apply text-responsive-2xl max-h-[15vh];
  }
}

/* Extra small mobile */
@media (max-width: 320px) {
  .mobile-container {
    @apply px-2 my-2;
  }
  
  .visual-container {
    @apply h-35 min-h-[140px];
  }
}

/* Custom scrollbar - mobile optimized */
@media (min-width: 768px) {
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-gray-100 dark:bg-gray-800;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-gray-400 dark:bg-gray-600 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-500 dark:bg-gray-500;
  }
}

/* Mobile scrollbar - hide on small devices */
@media (max-width: 767px) {
  ::-webkit-scrollbar {
    display: none;
  }
  
  * {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
}